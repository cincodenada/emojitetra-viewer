SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM boards;
SELECT COUNT(*) FROM boards WHERE id IS NULL
;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM boards;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM boards;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM boards;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM board_meta WHERE board_id IS NULL;
SELECT COUNT(*) FROM board_meta GROUP BY board_id ORDER BY COUNT(*) DESC;
SELECT COUNT(*) FROM board_meta GROUP BY board_id ORDER BY COUNT(*) DESC LIMIT 5;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM boards;
SELECT COUNT(*) FROM board_meta;
SELECT COUNT(*) FROM board_meta GROUP BY role;
SELECT role, COUNT(*) FROM board_meta GROUP BY role;
SELECT COUNT(*) FROM board_meta;
SELECT DATE(timestamp/1000, 'unixepoch') day, COUNT(*) FROM boards GROUP BY day;
SELECT DATE(timestamp/1000, 'unixepoch') day, board LIKE '%'||X'25FD'||'%' is_board, COUNT(*) FROM boards GROUP BY day, is_board;
SELECT DATE(timestamp/1000, 'unixepoch') day, HEX(board) LIKE '%'||X'25FD'||'%' is_board, COUNT(*) FROM boards GROUP BY day, is_board;
SELECT HEX(board) FROM boards LIMIT 1;
SELECT DATE(timestamp/1000, 'unixepoch') day, HEX(board) LIKE '%25FD%' is_board, COUNT(*) FROM boards GROUP BY day, is_board;
SELECT HEX(board) FROM boards LIMIT 1;
SELECT DATE(timestamp/1000, 'unixepoch') day, HEX(board) LIKE '%E297BD%' is_board, COUNT(*) FROM boards GROUP BY day, is_board;
SELECT DATE(timestamp/1000, 'unixepoch') day, HEX(board) LIKE '%E297BD%' is_board, COUNT(*) FROM boards GROUP BY day, is_board ORDER BY is_board, day;
SELECT strftime("%Y-%m-%d %H", timestamp/1000, 'unixepoch') day, HEX(board) LIKE '%E297BD%' is_board, COUNT(*) FROM boards GROUP BY day, is_board ORDER BY is_board, day;
SELECT strftime("%Y-%m-%d %H", timestamp/1000, 'unixepoch') day, HEX(board) LIKE '%E297BD%' is_board, COUNT(*) cnt FROM boards GROUP BY day, is_board WHERE is_board AND cnt < 3 ORDER BY is_board, day;
SELECT * FROM (SELECT strftime("%Y-%m-%d %H", timestamp/1000, 'unixepoch') day, HEX(board) LIKE '%E297BD%' is_board, COUNT(*) cnt FROM boards GROUP BY is_board, day) WHERE is_board AND cnt < 3 ORDER BY is_board, day;
SELECT * FROM (SELECT strftime("%Y-%m-%d %H", timestamp/1000, 'unixepoch') day, HEX(board) LIKE '%E297BD%' is_board, COUNT(*) cnt FROM boards GROUP BY is_board, day) WHERE is_board AND cnt < 3 ORDER BY is_board, day;~
WITH RECURSIVE
  cnt(x) AS (
     SELECT 0
     UNION ALL
     SELECT x+1 FROM cnt
      LIMIT (SELECT ((strftime('%s','2018-11-14') - strftime('%s','2018-04-16')/(60*60))) + 1)
  )
SELECT date(datetime('%s','2018-04-16'), '+' || x || ' hours') as date FROM cnt;
CREATE TABLE hours (hour TIMESTAMP);
CREATE TABLE hours (hour TIMESTAMP);
.q
CREATE TABLE hours (hour TIMESTAMP);
.q
CREATE TABLE hours (hour TIMESTAMP);
.q
.status
.help
.q
CREATE TABLE hours (hour TIMESTAMP);
WITH RECURSIVE
  cnt(x) AS (
     SELECT 0
     UNION ALL
     SELECT x+1 FROM cnt
      LIMIT (SELECT ((strftime('%s','2018-11-14') - strftime('%s','2018-04-16')/(60*60))) + 1)
  )
INSERT INTO hours SELECT date(datetime('%s','2018-04-16'), '+' || x || ' hours') as date FROM cnt;
SELECT COUNT(*) FROM hours;
.q
WITH RECURSIVE
  cnt(x) AS (
     SELECT 0
     UNION ALL
     SELECT x+1 FROM cnt
      LIMIT (SELECT ((julianday('2018-11-14') - julianday('2018-04-16'))*24) + 1)
  )
INSERT INTO hours SELECT datetime(julianday('2018-04-16'), '+' || x || ' hours') as date FROM cnt;
SELECT * FROM hours;
SELECT * FROM (SELECT strftime("%Y-%m-%d %H", timestamp/1000, 'unixepoch') day, HEX(board) LIKE '%E297BD%' is_board, COUNT(*) cnt FROM boards b GROUP BY is_board, day) cnts RIGHT JOIN hours h ON h.hour=cnts.day WHERE is_board AND cnt < 3 ORDER BY is_board, day;
SELECT * FROM (SELECT strftime("%Y-%m-%d %H", timestamp/1000, 'unixepoch') day, HEX(board) LIKE '%E297BD%' is_board, COUNT(*) cnt FROM boards b GROUP BY is_board, day) cnts INNER JOIN hours h ON h.hour=cnts.day WHERE is_board AND cnt < 3 ORDER BY is_board, day;
.schema
SELECT * FROM (SELECT datetime(strftime("%Y-%m-%d %H:00:00", timestamp/1000, 'unixepoch')) day, HEX(board) LIKE '%E297BD%' is_board, COUNT(*) cnt FROM boards b GROUP BY is_board, day) cnts INNER JOIN hours h ON h.hour=cnts.day WHERE is_board AND cnt < 3 ORDER BY is_board, day;
SELECT * FROM hours h LEFT JOIN (SELECT datetime(strftime("%Y-%m-%d %H:00:00", timestamp/1000, 'unixepoch')) day, HEX(board) LIKE '%E297BD%' is_board, COUNT(*) cnt FROM boards b GROUP BY is_board, day) cnts ON h.hour = cnts.day WHERE is_board AND cnt < 3 ORDER BY is_board, day;
SELECT MIN(hours);
SELECT MIN(hour) FROM hours;
SELECT MAX(hour) FROM hours;
SELECT * FROM hours h LEFT JOIN (SELECT datetime(strftime("%Y-%m-%d %H:00:00", timestamp/1000, 'unixepoch')) day, HEX(board) LIKE '%E297BD%' is_board, COUNT(*) cnt FROM boards b GROUP BY is_board, day) cnts ON h.hour = cnts.day WHERE is_board AND cnt < 3 ORDER BY is_board, day;
SELECT hour, COUNT(boards.id) FROM hours h LEFT JOIN (SELECT datetime(strftime("%Y-%m-%d %H:00:00", timestamp/1000, 'unixepoch')) day, HEX(board) LIKE '%E297BD%' is_board FROM boards b WHERE is_board) boards ON h.hour = cnts.day WHERE cnt < 3 ORDER BY day;
SELECT hour, COUNT(boards.day) FROM hours h LEFT JOIN (SELECT datetime(strftime("%Y-%m-%d %H:00:00", timestamp/1000, 'unixepoch')) day, HEX(board) LIKE '%E297BD%' is_board FROM boards b WHERE is_board) boards ON h.hour = cnts.day WHERE cnt < 3 ORDER BY day;
SELECT hour, COUNT(boards.day) cnt FROM hours h LEFT JOIN (SELECT datetime(strftime("%Y-%m-%d %H:00:00", timestamp/1000, 'unixepoch')) day, HEX(board) LIKE '%E297BD%' is_board FROM boards b WHERE is_board) boards ON h.hour = boards.day WHERE cnt < 3 ORDER BY day;
SELECT * FROM (SELECT hour, COUNT(boards.day) cnt FROM hours h LEFT JOIN (SELECT datetime(strftime("%Y-%m-%d %H:00:00", timestamp/1000, 'unixepoch')) day, HEX(board) LIKE '%E297BD%' is_board FROM boards b WHERE is_board) boards ON h.hour = boards.day GROUP BY hour) WHERE cnt < 3 ORDER BY hour ASC
;
SELECT COUNT(*) FROM boards;
SELECT * FROM (SELECT hour, COUNT(boards.day) cnt FROM hours h LEFT JOIN (SELECT datetime(strftime("%Y-%m-%d %H:00:00", timestamp/1000, 'unixepoch')) day, HEX(board) LIKE '%E297BD%' is_board FROM boards b WHERE is_board) boards ON h.hour = boards.day GROUP BY hour) WHERE cnt < 3 ORDER BY hour ASC
;
SELECT * FROM (SELECT hour, COUNT(boards.day) cnt FROM hours h LEFT JOIN (SELECT datetime(strftime("%Y-%m-%d %H:00:00", timestamp/1000, 'unixepoch')) day, HEX(board) LIKE '%E297BD%' is_board FROM boards b WHERE is_board) boards ON h.hour = boards.day GROUP BY hour) WHERE cnt < 3 ORDER BY hour ASC
;
.q
SELECT COUNT(*) FROM boards;
SELECT COUNT(*) FROM board_meta;
